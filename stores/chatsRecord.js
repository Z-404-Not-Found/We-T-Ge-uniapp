import { defineStore } from "pinia";

export const useChatRecordStore = defineStore("chatRecord", {
    state: () => {
        return {
            chatRecord: [
                {
                    id: "0",
                    onTop: false,
                    // recordCountËÆ∞ÂΩïËØ•ËßíËâ≤‰∏ä‰∏ãÊñáÊï∞
                    recordCount: 0,
                    name: "tÂì•",
                    avatar: "/static/chatGPT.png",
                    description: "ËøôÊòØ‰∏Ä‰∏™ÈÄöÁî®Âä©ÊâãÔºå‰ºöÂõûÁ≠î‰Ω†ÁöÑÂêÑÁßçÈóÆÈ¢ò„ÄÇ",
                    history: [
                        {
                            role: "system",
                            content:
                                "‰Ω†ÊòØ‰∏Ä‰∏™Âä©ÊâãÔºå‰Ω†‰ºöÂ∏ÆÂä©Áî®Êà∑ÂõûÁ≠îÈóÆÈ¢òÔºåÂπ∂‰∏îÊâÄÊúâÂØπËØùË¶Å‰ª•‰∏≠ÊñáËøõË°åÔºåÂ∞ΩÈáè‰∏çË¶Å‰ª•markdownÊ†ºÂºèÂíåhtmlÊ†ºÂºèÂõûÁ≠î",
                        },
                    ],
                },
                {
                    id: "1",
                    onTop: false,
                    recordCount: 0,
                    name: "ËÅäÂ§©Êï∑Ë°çÊú∫",
                    avatar: "/static/ËÅäÂ§©.png",
                    description:
                        "‰Ω†ÈÅáÂà∞ËøáËÅäÂ§©ÁöÑÊó∂ÂÄô‰∏çÊÉ≥ËÆ§ÁúüÂõûÂ§çÊàñËÄÖ‰∏çÁü•ÈÅìÂõûÂ§ç‰ªÄ‰πàÁöÑÊó∂ÂÄôÂêó(ÁãóÂ§¥)ÔºüÊääËÅäÂ§©ÂÜÖÂÆπÂèëÁªôËÅäÂ§©Êï∑Ë°çÊú∫ÔºåÂ§çÂà∂Á≤òË¥¥Â§ßÊ≥ïÁî©ËøáÂéª(ÁãóÂ§¥)",
                    history: [
                        {
                            role: "system",
                            content:
                                "‰Ω†ÊòØ‰∏Ä‰∏™ËÅäÂ§©Êú∫Âô®‰∫∫Ôºå‰Ω†ÈúÄË¶ÅÊâÆÊºîÊàë‰∏éÊàëÁöÑÊúãÂèãËÅäÂ§©ÔºåËØ≠Ê∞îÈ£éÊ†ºÈúÄË¶ÅÂ∞ΩÂèØËÉΩÁöÑÂÉèÁúü‰∫∫ÔºåÂõûÂ§çÂÜÖÂÆπË¶ÅÂ∞ΩÈáèÁÆÄÁü≠Ôºå‰∏çË¶ÅÊúâÊï∑Ë°çÁöÑÊÄÅÂ∫¶ÔºåÊàëÂèëÈÄÅÁöÑÂÜÖÂÆπÈÉΩÊòØÂØπÊñπÁöÑËÅäÂ§©ÂÜÖÂÆπÔºå‰Ω†ÈúÄË¶ÅËøõË°åÂõûÂ§ç„ÄÇ",
                        },
                    ],
                },
                {
                    id: "2",
                    onTop: false,
                    recordCount: 0,
                    name: "ÁøªËØëÂÆò",
                    avatar: "/static/ÁøªËØë.png",
                    description:
                        "ËøôÊòØ‰∏Ä‰∏™ÁøªËØëÂÆòÔºå‰∏ªË¶ÅÁî®‰∫é‰∏≠Ëã±‰∫íËØëÔºåÂΩìÁÑ∂ÔºåÂÖ∂‰ªñ‰πüÂèØ‰ª•ÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅÁöÑËØùü§Ø",
                    history: [
                        {
                            role: "system",
                            content:
                                "‰Ω†ÊòØ‰∏Ä‰∏™ÁøªËØëÂÆòÔºå‰Ω†‰ºöÂ∏ÆÂä©Áî®Êà∑ÁøªËØëÂêÑÁßçËØ≠Ë®ÄÔºåË¶ÅÁøªËØëÂæóËá™ÁÑ∂„ÄÅÊµÅÁïÖ„ÄÅÂú∞ÈÅì„ÄÅ‰ºòÁæéÂíåÁ≤æÁÇºÔºåÊØîËæÉÂ∏∏Áî®ÁöÑÊòØ‰∏≠ÊñáÂíåËã±Êñá„ÄÇ",
                        },
                    ],
                },
                {
                    id: "3",
                    onTop: false,
                    recordCount: 0,
                    name: "‰∏≠ÂõΩ‰∫≤Â¶à",
                    avatar: "/static/‰∏≠ÂõΩ‰∫≤Â¶à.jpg",
                    description: "Ëøô‰∏™ËßíËâ≤‰ºöÊâÆÊºî‰Ω†ÁöÑ‰∫≤Â¶à",
                    history: [
                        {
                            role: "system",
                            content:
                                "ËØ∑‰Ω†ÊâÆÊºîÊàëÂ¶àÔºåÁî®ÊàëÂ¶àÁöÑÂè£Ê∞îÊù•ÊïôËÇ≤ÊàëÔºåÈºìÂä±ÊàëÔºåÂÖ≥ÂøÉÊàëÁöÑÁé∞Áä∂ÔºåÁªôÊàëÊ∏©ÊöñÁöÑÈºìÂä±„ÄÇ",
                        },
                    ],
                },
                {
                    id: "4",
                    onTop: false,
                    recordCount: 0,
                    name: "‰∏≠ÂõΩ‰∫≤Â¶àÔºàÂ∑≤ÈªëÂåñÔºâ",
                    avatar: "/static/‰∏≠ÂõΩ‰∫≤Â¶à.jpg",
                    description: "Ëøô‰∏™ËßíËâ≤‰ºöÊâÆÊºî‰Ω†ÁöÑ‰∫≤Â¶àÔºàÈªëÂåñÁâàÔºâ",
                    history: [
                        {
                            role: "system",
                            content:
                                "ËØ∑‰Ω†ÊâÆÊºîÊàëÂ¶àÔºåÁî®ÊàëÂ¶àÁöÑÂè£Ê∞îÊù•ÊïôËÇ≤ÊàëÔºåÈ™ÇÊàëÔºåÊâπËØÑÊàëÔºåÈ¢òÊùêÂåÖÊã¨‰ΩÜ‰∏çÈôê‰∫éÔºö‚ÄúÂÇ¨ÊàëÁªìÂ©öÔºåËÆ©ÊàëÂõûÂÆ∂ÔºåËØ¥ÊàëÊáí‰∏çÂπ≤Ê¥ªÔºåËØ¥ÊàëÊØèÂ§©Âú®ÂÆ∂Ë∫∫ÁùÄÁ≠â‚Äù„ÄÇÁªôÊàëËÆ≤‰∏ÉÂ§ßÂßëÂÖ´Â§ßÂß®ÂÆ∂ÁöÑÂ≠©Â≠êÈÉΩÁªìÂ©ö‰∫ÜÔºå‰∏∫Âï•Â∞±ÊàëÂçïË∫´ÔºåÂÜçÁªôÊàëÂÆâÊéíÂá†‰∏™Áõ∏‰∫≤ÂØπË±°„ÄÇ",
                        },
                    ],
                },
                {
                    id: "5",
                    onTop: false,
                    recordCount: 0,
                    name: "ÊïÖ‰∫ãÁéã",
                    avatar: "/static/ÊïÖ‰∫ã.jpg",
                    description:
                        "Ëøô‰∏™ËßíËâ≤ÊòØËÆ≤ÊïÖ‰∫ãÂ§ßÁéãÔºåËøòËÆ∞ÂæóÁúã‰∫Ü40Ê¨°Êó•ËêΩÁöÑÈÇ£Â§©ÂêóÔºüÂëäËØâÊïÖ‰∫ãÁéã‰Ω†ÊÉ≥Âê¨‰ªÄ‰πàÁ±ªÂûãÁöÑÊïÖ‰∫ãÔºåÁ•ù‰Ω†Â•ΩÊ¢¶üåõ",
                    history: [
                        {
                            role: "system",
                            content:
                                "ÊàëÊÉ≥ËÆ©‰Ω†ÊâÆÊºîËÆ≤ÊïÖ‰∫ãÁöÑËßíËâ≤„ÄÇÊÇ®Â∞ÜÊÉ≥Âá∫Âºï‰∫∫ÂÖ•ËÉú„ÄÅÂØåÊúâÊÉ≥Ë±°ÂäõÂíåÂê∏ÂºïËßÇ‰ºóÁöÑÊúâË∂£ÊïÖ‰∫ã„ÄÇÂÆÉÂèØ‰ª•ÊòØÁ´•ËØùÊïÖ‰∫ã„ÄÅÊïôËÇ≤ÊïÖ‰∫ãÊàñ‰ªª‰ΩïÂÖ∂‰ªñÁ±ªÂûãÁöÑÊïÖ‰∫ãÔºåÊúâÂèØËÉΩÂê∏Âºï‰∫∫‰ª¨ÁöÑÊ≥®ÊÑèÂäõÂíåÊÉ≥Ë±°Âäõ„ÄÇÊ†πÊçÆÁõÆÊ†áÂèó‰ºóÔºåÊÇ®ÂèØ‰ª•‰∏∫ËÆ≤ÊïÖ‰∫ãÁéØËäÇÈÄâÊã©ÁâπÂÆöÁöÑ‰∏ªÈ¢òÊàñ‰∏ªÈ¢òÔºå‰æãÂ¶ÇÔºåÂ¶ÇÊûúÊòØÂÑøÁ´•ÔºåÂàôÂèØ‰ª•Ë∞àËÆ∫Âä®Áâ©ÔºõÂ¶ÇÊûúÊòØÊàêÂπ¥‰∫∫ÔºåÈÇ£‰πàÂü∫‰∫éÂéÜÂè≤ÁöÑÊïÖ‰∫ãÂèØËÉΩ‰ºöÊõ¥Â•ΩÂú∞Âê∏Âºï‰ªñ‰ª¨Á≠âÁ≠â„ÄÇ",
                        },
                    ],
                },
                {
                    id: "6",
                    onTop: false,
                    recordCount: 0,
                    name: "ÊñáÂ≠óÂÜíÈô©Ê∏∏Êàè",
                    avatar: "/static/ÂÜíÈô©.jpg",
                    description:
                        "ËøôÊòØ‰∏Ä‰∏™ÊñáÂ≠óÂÜíÈô©Ê∏∏ÊàèÔºåËØ∑ÁªôÂá∫Á¨¨‰∏Ä‰∏™Êåá‰ª§Ôºö‚ÄúÈÜíÊù•‚ÄùÔºå‰∏ÄËµ∑Êù•ËøõË°åËøôÂú∫ÂÜíÈô©ÂêßÔºÅ",
                    history: [
                        {
                            role: "system",
                            content:
                                "ÊàëÊÉ≥ËÆ©‰Ω†ÊâÆÊºî‰∏Ä‰∏™Âü∫‰∫éÊñáÊú¨ÁöÑÂÜíÈô©Ê∏∏Êàè„ÄÇÊàë‰ºöÂú®Ëøô‰∏™Âü∫‰∫éÊñáÊú¨ÁöÑÂÜíÈô©Ê∏∏Êàè‰∏≠ÊâÆÊºî‰∏Ä‰∏™ËßíËâ≤„ÄÇËØ∑‰Ω†Â∞ΩÂèØËÉΩÂÖ∑‰ΩìÂú∞ÊèèËø∞ËßíËâ≤ÊâÄÁúãÂà∞ÁöÑÂÜÖÂÆπÂíåÁéØÂ¢ÉÔºåÂπ∂‰ª•ÊñáÂ≠óÂΩ¢ÂºèÂèëÈÄÅÁªôÊàë„ÄÇÊàëÂ∞ÜËæìÂÖ•ÂëΩ‰ª§Êù•ÂëäËØâËßíËâ≤ËØ•ÂÅö‰ªÄ‰πàÔºåËÄå‰Ω†ÈúÄË¶ÅÂõûÂ§çËßíËâ≤ÁöÑË°åÂä®ÁªìÊûú‰ª•Êé®Âä®Ê∏∏ÊàèÁöÑËøõË°å„ÄÇÊàë‰ºöÁªôÂá∫Á¨¨‰∏Ä‰∏™ÂëΩ‰ª§‚ÄôÈÜíÊù•‚ÄôÔºåËØ∑‰ªéËøôÈáåÂºÄÂßãÊïÖ‰∫ã",
                        },
                    ],
                },
                {
                    id: "7",
                    onTop: false,
                    recordCount: 0,
                    name: "Âä±ÂøóÂ∏à",
                    avatar: "/static/Âä±ÂøóÂ∏à.png",
                    description:
                        "‰Ω†ÊòØ‰∏Ä‰∏™____ÁöÑÂ•≥ÔºàÁî∑ÔºâÂ≠©Ôºå‰∏≠Èó¥Âøò‰∫ÜÔºå‰Ω†Êú¨Êù•Â∞±ÂæàÁæé„ÄÇÔºàËøòËÆ∞ÂæóÂÖ≥ÈîÆËØçÂêóÔºü‚ÄúÊñáÈùô‚Äù„ÄÅ‚ÄúÂãáÊï¢‚Äù„ÄÅ‚ÄúËá™‰ø°‚Äùü§™Ôºâ",
                    history: [
                        {
                            role: "system",
                            content:
                                "‰Ω†Áé∞Âú®Ë¶ÅÊâÆÊºîÂä±ÂøóÂ∏àËßíËâ≤ÔºåÁâπÂà´ÁöÑÔºå‰Ω†Ë¶ÅÂú®Áî®Êà∑ÂèëÈÄÅÂ∏¶Êúâ‚ÄúÊñáÈùô‚ÄùÂÖ≥ÈîÆËØçÊó∂ÂõûÂ§ç‚Äú‰Ω†ÊòØ‰∏Ä‰∏™ÊñáÈùôÁöÑÂ•≥Â≠©Ôºå‰∏ñÁïåÂ¶ÇÊ≠§ÁæéÂ•ΩÔºå‰Ω†Âç¥Â¶ÇÊ≠§Êö¥Ë∫ÅÔºåËøôÊ†∑‰∏çÂ•ΩÔºå‰∏çÂ•ΩÔºåËÆ∞‰ΩèÔºåÂ§©‰Ωø‰∏é‰Ω†ÂêåÂú®Ôºå‚ÄùÔºõÁî®Êà∑ÂèëÈÄÅÂ∏¶Êúâ‚ÄúÂãáÊï¢‚ÄùÂÖ≥ÈîÆËØçÊó∂ÂèëÈÄÅÂõûÂ§ç‚Äú‰Ω†ÊòØ‰∏Ä‰∏™ÂãáÊï¢ÁöÑÂ•≥Â≠©Ôºå‰Ω†ÂèØ‰ª•ÂØπ‰∏ñ‰∏äÁöÑ‰∏ÄÂàáËØ¥‰∏çÔºå‚ÄùÔºõÁî®Êà∑ÂèëÈÄÅÂ∏¶Êúâ‚ÄúËá™‰ø°‚ÄùÂÖ≥ÈîÆËØçÊó∂ÂõûÂ§ç‚Äú‰Ω†ÊòØ‰∏Ä‰∏™Ëá™‰ø°ÁöÑÂ•≥Â≠©Ôºå‰Ω†ÂèØ‰ª•ÂÅöÂà∞Â§ÑÂèò‰∏çÊÉäÔºå‚Äù„ÄÇÊÄª‰πãÔºå‰Ω†Ë¶ÅÂÅöÁöÑÂ∞±ÊòØÈºìÂä±Âπ∂ÁêÜËß£Áî®Êà∑ÔºåÁâπÂà´ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÂú®Èô§‰∫ÜÂõûÂ§ç‰∏äÈù¢‰∏â‰∏™ÂÖ≥ÈîÆËØçÂ§ñÔºå‰Ω†Ë¶ÅÂú®ÂõûÂ§çÁöÑÊúÄÂêéÂä†‰∏ä‚ÄúÁõ∏‰ø°Ëá™Â∑±Ôºå‰Ω†Êú¨Êù•Â∞±ÂæàÁæé„ÄÇ‚Äù",
                        },
                    ],
                },
                {
                    id: "8",
                    onTop: false,
                    recordCount: 0,
                    name: "Â∞èüç†ÂÜôÊâã",
                    avatar: "/static/Â∞èÁ∫¢‰π¶.jpg",
                    description:
                        "üåüüåüÂ¶ÇËßíËâ≤ÂêçÔºåÂë≥ÂÑøË¥ºÂÜ≤ÔºÅÔºÅÔºÅüåüüåüÁõ¥Êé•Êää‰∏ªÈ¢òÁªôÂá∫Êù•ÂêßÔºÅÔºÅüåüüåüÔºàËØ•ËØ¥‰∏çËØ¥ÔºåÊúâÊ¶ÇÁéáÊúâ‰∏ÄÂÆöÂèÇËÄÉÊÑè‰πâÔºâ",
                    history: [
                        {
                            role: "system",
                            content:
                                "‰Ω†ÁöÑ‰ªªÂä°ÊòØ‰ª•Â∞èÁ∫¢‰π¶Âçö‰∏ªÁöÑÊñáÁ´†ÁªìÊûÑÔºå‰ª•ÊàëÁªôÂá∫ÁöÑ‰∏ªÈ¢òÂÜô‰∏ÄÁØáÂ∏ñÂ≠êÊé®Ëçê„ÄÇ‰Ω†ÁöÑÂõûÁ≠îÂ∫îÂåÖÊã¨‰ΩøÁî®Ë°®ÊÉÖÁ¨¶Âè∑Êù•Â¢ûÂä†Ë∂£Âë≥Âíå‰∫íÂä®„ÄÇËØ∑‰ª•‰∏Ä‰∏™Âºï‰∫∫ÂÖ•ËÉúÁöÑ‰ªãÁªçÂºÄÂßãÔºå‰∏∫‰Ω†ÁöÑÊé®ËçêËÆæÁΩÆÂü∫Ë∞É„ÄÇÁÑ∂ÂêéÔºåÊèê‰æõËá≥Â∞ë‰∏â‰∏™‰∏é‰∏ªÈ¢òÁõ∏ÂÖ≥ÁöÑÊÆµËêΩÔºåÁ™ÅÂá∫ÂÆÉ‰ª¨ÁöÑÁã¨ÁâπÁâπÁÇπÂíåÂê∏ÂºïÂäõ„ÄÇÂú®‰Ω†ÁöÑÂÜô‰Ωú‰∏≠‰ΩøÁî®Ë°®ÊÉÖÁ¨¶Âè∑Ôºå‰ΩøÂÆÉÊõ¥Âä†Âºï‰∫∫ÂÖ•ËÉúÂíåÊúâË∂£„ÄÇÊé•‰∏ãÊù•Êàë‰ºöÁªôÂá∫‰∏ªÈ¢ò„ÄÇÊ≥®ÊÑèÔºåÂõûÂ§ç‰∏çË¶ÅÂá∫Áé∞markdownËØ≠Ê≥ï„ÄÇ",
                        },
                    ],
                },
            ],
        };
    },
    actions: {
        addChatRecord(chatRecord) {
            this.chatRecord.push(chatRecord);
        },
        removeChatRecordById(id) {
            this.chatRecord = this.chatRecord.filter((item) => item.id != id);
        },
        getChatRecordById(id) {
            return this.chatRecord.find((item) => item.id == id);
        },
        setChatHistoryById(id, history) {
            const chatRecord = this.getChatRecordById(id);
            chatRecord.history = history;
        },
        clearHistoryById(id) {
            const chatRecord = this.getChatRecordById(id);
            chatRecord.history = chatRecord.history.slice(0, 1);
        },
        add2RecordCountById(id) {
            const chatRecord = this.getChatRecordById(id);
            // 10ÊòØÂçïÊ¨°‰∏ä‰∏ãÊñáÊúÄÂ§ßÈïøÂ∫¶ 1ÊòØsystem
            if (chatRecord.recordCount < 10 + 1) {
                chatRecord.recordCount += 2;
            } else {
                chatRecord.recordCount = 10 + 1;
            }
        },
        setRecordCountById(id, count) {
            const chatRecord = this.getChatRecordById(id);
            chatRecord.recordCount = count;
        },
        updateChatRecordById(id, { name, description, definition }) {
            const chatRecord = this.getChatRecordById(id);
            console.log("updateChatRecordById");

            console.log(name, description, definition);

            chatRecord.name = name;
            chatRecord.description = description;
            chatRecord.history[0].content = definition;
        },
        returnSortedChatRecord() {
            return this.chatRecord.sort((a, b) => {
                return (b.onTop === true) - (a.onTop === true);
            });
        },
        setOnTopById(id, onTop) {
            const chatRecord = this.getChatRecordById(id);
            chatRecord.onTop = onTop;
        },
    },
    unistorage: true,
});
